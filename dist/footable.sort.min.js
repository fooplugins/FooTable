!function(c,t,u){if(t.footable===u||null===t.footable)throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(function(){var d=this;d.name="Footable Sortable",d.init=function(n){!0===(d.footable=n).options.sort&&c(n.table).unbind(".sorting").bind({"footable_initialized.sorting":function(t){var o,s=c(n.table),a=(s.find("> tbody"),n.options.classes.sort);if(!1!==s.data("sort")){s.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(t){var o=c(this);!0===n.columns[o.index()].sort.ignore||o.hasClass(a.sortable)||(o.addClass(a.sortable),c("<span />").addClass(a.indicator).appendTo(o))}),s.find("> thead > tr:last-child > th."+a.sortable+", > thead > tr:last-child > td."+a.sortable).unbind("click.footable").bind("click.footable",function(t){t.preventDefault();t=!(o=c(this)).hasClass(a.sorted);return d.doSort(o.index(),t),!1});for(var e in n.columns)if((e=n.columns[e]).sort.initial){var r="descending"!==e.sort.initial;d.doSort(e.index,r);break}}},"footable_redrawn.sorting":function(t){var o=c(n.table),s=n.options.classes.sort;0<=o.data("sorted")&&o.find("> thead > tr:last-child > th").each(function(t){var o=c(this);(o.hasClass(s.sorted)||o.hasClass(s.descending))&&d.doSort(t)})},"footable_column_data.sorting":function(t){var o=c(t.column.th),o=(t.column.data.sort=t.column.data.sort||{},t.column.data.sort.initial=o.data("sort-initial")||!1,t.column.data.sort.ignore=o.data("sort-ignore")||!1,t.column.data.sort.selector=o.data("sort-selector")||null,o.data("sort-match")||0);o>=t.column.data.matches.length&&(o=0),t.column.data.sort.match=t.column.data.matches[o]}}).data("footable-sort",d)},d.doSort=function(t,o){var s=d.footable;if(!1!==c(s.table).data("sort")){var a=c(s.table),e=a.find("> tbody"),r=s.columns[t],t=a.find("> thead > tr:last-child > th:eq("+t+")"),n=s.options.classes.sort,i=s.options.events.sort;if(o=o===u?t.hasClass(n.sorted):"toggle"===o?!t.hasClass(n.sorted):o,!0===r.sort.ignore)return!0;var l=s.raise(i.sorting,{column:r,direction:o?"ASC":"DESC"});l&&!1===l.result||(a.data("sorted",r.index),a.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(t).removeClass(n.sorted+" "+n.descending),(o=o===u?t.hasClass(n.sorted):o)?t.removeClass(n.descending).addClass(n.sorted):t.removeClass(n.sorted).addClass(n.descending),d.sort(s,e,r,o),s.bindToggleSelectors(),s.raise(i.sorted,{column:r,direction:o?"ASC":"DESC"}))}},d.rows=function(s,t,a){var e=[];return t.find("> tr").each(function(){var t=c(this),o=null;return t.hasClass(s.options.classes.detail)||(t.next().hasClass(s.options.classes.detail)&&(o=t.next().get(0)),t={row:t,detail:o},a!==u&&(t.value=s.parse(this.cells[a.sort.match],a)),e.push(t)),!0}).detach(),e},d.sort=function(t,o,s,a){var e=d.rows(t,o,s),r=t.options.sorters[s.type]||t.options.sorters.alpha;e.sort(function(t,o){return a?r(t.value,o.value):r(o.value,t.value)});for(var n=0;n<e.length;n++)o.append(e[n].row),null!==e[n].detail&&o.append(e[n].detail)}},{sort:!0,sorters:{alpha:function(t,o){return(t="string"==typeof t?t.toLowerCase():t)===(o="string"==typeof o?o.toLowerCase():o)?0:t<o?-1:1},numeric:function(t,o){return t-o}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}},events:{sort:{sorting:"footable_sorting",sorted:"footable_sorted"}}})}(jQuery,window);