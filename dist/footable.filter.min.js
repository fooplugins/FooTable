!function(o,t){if(void 0===t.footable||null===t.footable)throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(function(){var r=this;r.name="Footable Filter",r.init=function(l){!0===(r.footable=l).options.filter.enabled&&!1!==o(l.table).data("filter")&&(l.timers.register("filter"),o(l.table).unbind(".filtering").bind({"footable_initialized.filtering":function(t){var e=o(l.table),i={input:e.data("filter")||l.options.filter.input,timeout:e.data("filter-timeout")||l.options.filter.timeout,minimum:e.data("filter-minimum")||l.options.filter.minimum,disableEnter:e.data("filter-disable-enter")||l.options.filter.disableEnter};i.disableEnter&&o(i.input).keypress(function(t){return window.event?13!==window.event.keyCode:13!==t.which}),e.bind("footable_clear_filter",function(){o(i.input).val(""),r.clearFilter()}),e.bind("footable_filter",function(t,e){r.filter(e.filter)}),o(i.input).keyup(function(t){l.timers.filter.stop(),27===t.which&&o(i.input).val(""),l.timers.filter.start(function(){var t=o(i.input).val()||"";r.filter(t)},i.timeout)})},"footable_redrawn.filtering":function(t){var e=o(l.table).data("filter-string");e&&r.filter(e)}}).data("footable-filter",r))},r.filter=function(t){var i,l=r.footable,a=o(l.table),e=a.data("filter-minimum")||l.options.filter.minimum,t=l.raise("footable_filtering",{filter:t,clear:!t});t&&!1===t.result||t.filter&&t.filter.length<e||(t.clear?r.clearFilter():(e=t.filter.split(" "),a.find("> tbody > tr").hide().addClass("footable-filtered"),i=a.find("> tbody > tr:not(.footable-row-detail)"),o.each(e,function(t,e){e&&0<e.length&&(a.data("current-filter",e),i=i.filter(l.options.filter.filterFunction))}),i.each(function(){r.showRow(this,l),o(this).removeClass("footable-filtered")}),a.data("filter-string",t.filter),l.raise("footable_filtered",{filter:t.filter,clear:!1})))},r.clearFilter=function(){var t=r.footable,e=o(t.table);e.find("> tbody > tr:not(.footable-row-detail)").removeClass("footable-filtered").each(function(){r.showRow(this,t)}),e.removeData("filter-string"),t.raise("footable_filtered",{clear:!0})},r.showRow=function(t,e){var i=o(t),l=i.next();o(e.table).hasClass("breakpoint")&&i.hasClass("footable-detail-show")&&l.hasClass("footable-row-detail")?(i.add(l).show(),e.createOrUpdateDetailRow(t)):i.show()}},{filter:{enabled:!0,input:".footable-filter",timeout:300,minimum:2,disableEnter:!1,filterFunction:function(t){var e=o(this),i=e.parents("table:first"),l=i.data("current-filter").toUpperCase(),a=e.find("td").text();return i.data("filter-text-only")||e.find("td[data-value]").each(function(){a+=o(this).data("value")}),0<=a.toUpperCase().indexOf(l)}}})}(jQuery,window);