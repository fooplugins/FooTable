!function(w,a,h){if(a.footable===h||null===a.foobox)throw new Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");function i(a,e){e=e||location.hash;a=new RegExp("&"+a+"(?:=([^&]*))?(?=&|$)","i");return(e=e.replace(/^\#/,"&").match(a))?void 0===e[1]?"":decodeURIComponent(e[1]):h}a.footable.plugins.register(function(){this.name="Footable LucidBookmarkable",this.init=function(g){g.options.bookmarkable.enabled&&w(g.table).bind({footable_initialized:function(){var a,e=g.table.id,t=i(e+"_f"),o=i(e+"_p"),l=i(e+"_s"),d=i(e+"_d"),e=i(e+"_e");if(t&&(a=w(g.table).data("filter"),w(a).val(t),w(g.table).trigger("footable_filter",{filter:t})),o&&w(g.table).data("currentPage",o),void 0!==l?(a="true"!=d,w(g.table).data("footable-sort").doSort(l,a)):w(g.table).trigger("footable_setup_paging"),e){var r,n=e.split(",");for(r in n)w(g.table.rows[n[r]]).find("> td:first").trigger("footable_toggle_row")}g.lucid_bookmark_read=!0},"footable_page_filled footable_redrawn footable_filtered footable_sorted footable_row_expanded footable_row_collapsed":function(a){var e,t=g,o=w(t.table).find("tbody").find("tr:not(.footable-row-detail, .footable-filtered)").length,o=(w(t.table).data("status_num_total",o),w(t.table).find("tbody").find("tr:not(.footable-row-detail)").filter(":visible").length),o=(w(t.table).data("status_num_shown",o),w(t.table).data("sorted")),o=w(t.table).find("th")[o],o=w(o).hasClass("footable-sorted-desc"),o=(w(t.table).data("status_descending",o),t.pageInfo&&(o=t.pageInfo.currentPage,w(t.table).data("status_pagenum",o)),""),l=w(t.table).data("filter");if(w(l).length&&(o=w(l).val()),w(t.table).data("status_filter_val",o),"footable_row_expanded"==a.type&&(e=a.row)&&(r=[],(r=(b=w(t.table).data("expanded_rows"))?b.split(","):r).push(e.rowIndex),w(t.table).data("expanded_rows",r.join(","))),"footable_row_collapsed"==a.type&&(e=a.row)){var d,r=[],n=[];for(d in r=(b=w(t.table).data("expanded_rows"))?b.split(","):r)if(r[d]==e.rowIndex){n=r.splice(d,1);break}w(t.table).data("expanded_rows",n.join(","))}if(g.lucid_bookmark_read){var i,l=g.table.id,o=l+"_f",a=l+"_p",b=l+"_s",t=l+"_d",l=l+"_e",s=location.hash.replace(/^\#/,"&"),f=[o,a,b,t,l];for(i in f)var _=new RegExp("&"+f[i]+"=([^&]*)","g"),s=s.replace(_,"");var p,u={},c=(u[o]=w(g.table).data("status_filter_val"),u[a]=w(g.table).data("status_pagenum"),u[b]=w(g.table).data("sorted"),u[t]=w(g.table).data("status_descending"),u[l]=w(g.table).data("expanded_rows"),[]);for(p in u)u[p]!==h&&c.push(p+"="+encodeURIComponent(u[p]));s.length&&c.push(s),location.hash=c.join("&")}}})}},{bookmarkable:{enabled:!1}})}(jQuery,window);